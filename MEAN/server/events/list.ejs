<%- include('./partials/header.ejs') %>
<%- include('./partials/main_nav.ejs') %>

<div class="container mt-4">
    <!-- Page Title + Create Button -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="display-5">Events</h1>
        <a href="/events/create" class="btn btn-success">
            <i class="fas fa-plus-circle"></i> Add Event
        </a>
    </div>
    <!-- Search Bar + Sort Options -->
    <div class="mb-3 d-flex justify-content-between">
        <form class="d-flex" method="GET" action="/events/list">
            <input type="text" name="search" placeholder="Search events..." class="form-control me-2">
            <button class="btn btn-primary">Search</button>
        </form>

        <div>
            <a href="/events/list?sort=name" class="btn btn-outline-secondary btn-sm">Sort by Name</a>
            <a href="/events/list?sort=date" class="btn btn-outline-secondary btn-sm">Sort by Date</a>
            <a href="/events/list?sort=type" class="btn btn-outline-secondary btn-sm">Sort by Type</a>
        </div>
    </div>
                <!--for/while loop-->
                <% for(let count=0;count<EventList.length;count++){%>
                    <tr class="d-flex"></tr>
                        <td class="text-center col-2"><%= EventList[count].name%></td>
                        <td class="text-center col-2"><%= EventList[count].type%></td>
                        <td class="text-center col-2"><%= EventList[count].date%></td>
                        <td class="text-center col-1"><%= EventList[count].time%></td>
                        <td class="text-center col-3"><%= EventList[count].location%></td>
                        <td class="text-center col-2">
                            <a href="/events/edit/<%= EventList[count].id%>" 
                            class= "btn btn-primary btn-sm">
                            <i class="fas fa-pencil-alt"></i>Edit</a> 
                        </td>
                        <td class="text-center col-2">
                            <a href="/events/delete/<%= EventList[count].id%>" 
                            class= "btn btn-danger btn-sm">
                            <i class="fas fa-trash-alt"></i>Delete</a>
                        </td>
                    </tr>
                <% } %>
            </table>
        </div>
    </div>
</div>

<%- include('./partials/footer.ejs') %>